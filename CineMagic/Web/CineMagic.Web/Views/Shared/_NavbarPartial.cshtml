@inject CineMagic.Services.Data.Contracts.IGenresService GenresService
@inject CineMagic.Services.Data.Contracts.ICountriesService CountriesService
@using CineMagic.Web.ViewModels.Genres
@using CineMagic.Web.ViewModels.Countries

@{
    var genres = await GenresService.GetAllGenresAsync<GenreNavbarViewModel>();
    var countries = await CountriesService.GetPopularCountriesAsync<CountryNavbarViewModel>();
}

<!-- navbar-header -->
<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
    <ul class="nav navbar-nav">
        <li active-when="/Home/Index"><a asp-controller="Home" asp-action="Index">Home</a></li>
        <li class="dropdown">
            <a class="dropdown-toggle" data-toggle="dropdown">Genre<b class="caret"></b></a>
            <ul class="dropdown-menu multi-column columns-3">
                <li>
                    @foreach (var genre in genres)
                    {
                        <div class="col-sm-6">
                            <ul class="multi-column-dropdown">
                                <li>
                                    <a asp-controller="Genres" asp-action="ByName" asp-route-name="@genre.Name">@genre.Name</a>
                                </li>
                            </ul>
                        </div>
                    }
                    <div class="clearfix"></div>
                </li>
            </ul>
        </li>
        <li class="dropdown">
            <a class="dropdown-toggle" data-toggle="dropdown">Country<b class="caret"></b></a>
            <ul class="dropdown-menu multi-column columns-3">
                <li>
                    @foreach (var country in countries)
                    {
                        <div class="col-sm-6">
                            <ul class="multi-column-dropdown">
                                <li>
                                    <a asp-controller="Countries" asp-action="ByName" asp-route-name="@country.Name">@country.Name</a>
                                </li>
                            </ul>
                        </div>
                    }
                    <div class="clearfix"></div>
                </li>
            </ul>
        </li>
        <li><a href="list.html">A - z list</a></li>
        <li class="dropdown">
            <a class="dropdown-toggle" data-toggle="dropdown">Actors<b class="caret"></b></a>
            <ul class="dropdown-menu multi-column columns-3">
                <li>
                    <div class="col-sm-6">
                        <ul class="multi-column-dropdown">
                            <li><a asp-controller="Actors" asp-action="MostPopular">Most Popular Actors</a></li>
                        </ul>
                    </div>
                    <div class="col-sm-6">
                        <ul class="multi-column-dropdown">
                            <li><a asp-controller="Actors" asp-action="BornToday">Born Today</a></li>
                        </ul>
                    </div>
                    <div class="clearfix"></div>
                </li>
            </ul>
        </li>
        <li class="dropdown">
            <a class="dropdown-toggle" data-toggle="dropdown">Directors<b class="caret"></b></a>
            <ul class="dropdown-menu multi-column columns-3">
                <li>
                    <div class="col-sm-6">
                        <ul class="multi-column-dropdown">
                            <li><a asp-controller="Directors" asp-action="MostPopular">Most Popular Directors</a></li>
                        </ul>
                    </div>
                    <div class="col-sm-6">
                        <ul class="multi-column-dropdown">
                            <li><a asp-controller="Actors" asp-action="BornToday">Born Today</a></li>
                        </ul>
                    </div>
                    <div class="clearfix"></div>
                </li>
            </ul>
        </li>
        <li><a href="contact.html">Contact</a></li>
    </ul>
</div>